<!doctype html>
<head>
<meta charset="utf-8">
<title>ä½œæ¥­æ™‚é–“ã®å†…è¨³ã‚’ã‚¿ã‚¤ãƒãƒ¼ã§æ¸¬ã‚‹ã‚ˆ</title>
<link rel="canonical" href="https://piyo-ko.github.io/tools/timer.html" />

<script type="text/javascript">
var total_times = [0, 0, 0, 0]; //ãƒŸãƒªç§’
var current_task_No = -1; // ã‚ã‚Šãˆãªã„å€¤
var current_task_start_time = new Date();
const working_task_sign="â±";
const coffee_break_sign="ğŸ­ğŸ˜ƒ";
const sleeping_sign="ğŸ˜´ğŸ’¤";

function get_period_in_time_str(millisec) {
	var str="";
	var all_sec=Math.round(millisec / 1000);
	var hour=Math.floor(all_sec / 3600);
	var min=Math.floor((all_sec % 3600) / 60);
	var sec=all_sec - hour*3600 - min*60;
	
	return( ("0"+hour).slice(-2) + ":" + ("0"+min).slice(-2) + ":" + ("0"+sec).slice(-2) );
}

function startTask(task_No) {
	const d = new Date();
	const prev_task_No = current_task_No;
	current_task_No = task_No;
	
	if (0 <= prev_task_No) {
		total_times[prev_task_No] += d -current_task_start_time;
		document.getElementById("task_" + prev_task_No + "_total_time").textContent = get_period_in_time_str(total_times[prev_task_No]);
	}
	current_task_start_time = d;
	document.getElementById("current_task").value = 
		document.getElementById("task_" + task_No + "_name").value +
		"ã‚’å®Ÿè¡Œä¸­ã§ã™ã‚ˆã€‚é–‹å§‹æ™‚åˆ»ã¯\n" + d + "\nã§ã™ã‚ˆã€‚\n";
	
	console.log(d + ": task "+ task_No + " (" + document.getElementById("task_" + task_No + "_name").value + ") ã‚’é–‹å§‹ã€‚");

	//åŒã˜ã‚¿ã‚¹ã‚¯ã®ã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’é€£ç¶šã—ã¦æŠ¼ã—ã¦ã‚‚å•é¡Œãªã„ã‚ˆã†ã«ã€
	//ã¾ãšå…ˆã«ã€å‰ã®ã‚¿ã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’sleeping_signã«ã™ã‚‹ã€‚
	if (prev_task_No >= 0) {
		document.getElementById("task_" + prev_task_No + "_status").textContent = sleeping_sign;
	}

	//ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’æ›¸ãæ›ãˆã‚‹ï¼ˆä¼‘æ†©ã‹ã©ã†ã‹ã§å ´åˆåˆ†ã‘ï¼‰
	if (task_No==0) {
		document.getElementById("task_" + task_No + "_status").textContent = coffee_break_sign;
	} else {
		document.getElementById("task_" + task_No + "_status").textContent = working_task_sign;
	}
}
</script>

<style>
body {
	background: saddlebrown;
	color: whitesmoke;
	padding: 12pt;
}
table, td, th {
	border: solid 1px springgreen;
}
td, th {
	padding-left: 1ex;
	padding-right: 1ex;
	white-space: nowrap;
}
input[type="text"], textarea {
	background: khaki;
	color: darkgreen;
}
p {
	text-indent: 1em;
}
</style>
</head>


<body>

<form name="timer">

<table>
<tr>
<th>ä½œæ¥­å†…å®¹</th>
<th>é–‹å§‹ã™ã‚‹?</th>
<th>çŠ¶æ…‹</th>
<th>åˆè¨ˆæ™‚é–“</th>
</tr>

<tr>
<td><input type="text" id="task_1_name" size="10" value="èª¿ã¹ç‰©"></td>
<td><input type="button" id="task_1" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(1)"></td>
<td id="task_1_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_1_total_time">0:00:00</td>
</tr>

<tr>
<td><input type="text" id="task_2_name" size="10" value="ç¿»è¨³"></td>
<td><input type="button" id="task_2" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(2)"></td>
<td id="task_2_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_2_total_time">0:00:00</td>
</tr>

<tr>
<td><input type="text" id="task_3_name" size="10" value="äº‹å‹™ä½œæ¥­"></td>
<td><input type="button" id="task_3" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(3)"></td>
<td id="task_3_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_3_total_time">0:00:00</td>
</tr>

<!--
<tr>
<td><input type="text" id="task_4_name" size="10" value="ï¼Ÿï¼Ÿï¼Ÿ"></td>
<td><input type="button" id="task_4" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(4)"></td>
<td id="task_4_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_4_total_time">0:00:00</td>
</tr>
-->

<!--
<tr>
<td><input type="text" id="task_5_name" size="10" value="ï¼Ÿï¼Ÿï¼Ÿ"></td>
<td><input type="button" id="task_5" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(5)"></td>
<td id="task_5_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_5_total_time">0:00:00</td>
</tr>
-->

<!--
<tr>
<td><input type="text" id="task_6_name" size="10" value="ï¼Ÿï¼Ÿï¼Ÿ"></td>
<td><input type="button" id="task_6" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(6)"></td>
<td id="task_6_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_6_total_time">0:00:00</td>
</tr>
-->

<tr>
<td><input type="text" id="task_0_name" size="10" value="ä¼‘æ†©"></td>
<td><input type="button" id="task_0" value="ã€€ã€€é–‹å§‹ã€€ã€€" onClick="startTask(0)"></td>
<td id="task_0_status" style="font-size: 24pt" >ğŸ˜´ğŸ’¤</td>
<td id="task_0_total_time">0:00:00</td>
</tr>
</table>
<br>
<textarea id="current_task" rows="4" cols="40">
</textarea>

<p><input type="button" id="reset_page" value="ã‚¯ãƒªã‚¢" onClick="window.location.reload(true);"></p>

</form>


<p>
ãŸã¨ãˆã°ã€ã€Œæœ¬æ¥ã—ãŸã„ä½œæ¥­ã¯ç¿»è¨³ãªã®ã ãŒã€å†…å®¹ã«ã¤ã„ã¦ã®ä¸‹èª¿ã¹ã‚‚å¿…è¦ã ã—ã€è«¸ã€…ã®é€£çµ¡ãªã©äº‹å‹™ä½œæ¥­ã‚‚å¿…è¦ã ã—ã€é€”ä¸­ã§ä¼‘æ†©ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€ã¨ã„ã†çŠ¶æ³ãŒã‚ã‚‹ã¨ã—ã¦ã€ã€Œæ™‚é–“ã®å†…è¨³ã¯ã©ã†ãªã£ã¦ã„ã‚‹ã®ã‹ãª?ã€ã¨ã„ã†ã®ã‚’çŸ¥ã‚ŠãŸã„å ´åˆã‚‚ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚ã¨ã„ã†ã‚ã‘ã§ã€é–‹å§‹ã—ãŸä½œæ¥­ã®ã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ (ã‚¿ãƒƒãƒ—) ã™ã‚‹ã ã‘ã§ã€æ™‚é–“ã®è¨ˆæ¸¬ãƒ»ç´¯è¨ˆåŠ ç®—ã‚’ã—ã¦ã„ããƒšãƒ¼ã‚¸ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚ãŸã ã€ä½œæ¥­ã‚’ã™ã‚‹ã¨ãã«ã€ã‚¯ãƒªãƒƒã‚¯ (ã‚¿ãƒƒãƒ—) ã—ã‚„ã™ã„ã¨ã“ã‚ã«æœ¬ãƒšãƒ¼ã‚¸ (ã¾ãŸã¯ãã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ”ãƒ¼) ã‚’é–‹ãã£ã±ãªã—ã«ã—ã¦ãŠã‹ã­ã°ãªã‚‰ã¬ã®ã§ã€ä½¿ã„å‹æ‰‹ã¯ã‚¤ãƒã‚¤ãƒã‹ã‚‚ã€‚<del>è‡ªåˆ†ã§ã‚‚ã¾ã å®Ÿéš›ã®ä»•äº‹ã«å¯¾ã—ã¦ä½¿ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ (ãˆâ€¦â€¦)ã€‚</del><ins>è‡ªåˆ†ã§ã¯ã‚‚ã†ã¡ã‚‡ã£ã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚</ins>
</p>
<p>
ã€Œä½œæ¥­å†…å®¹ã€ã®åˆ—ã¯æ›¸ãæ›ãˆå¯èƒ½ã§ã™ã€‚æœ¬ãƒšãƒ¼ã‚¸ä¸Šã§æ›¸ãæ›ãˆã¦ã‹ã‚‰ä½¿ã£ã¦ã‚‚è‰¯ã„ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ”ãƒ¼ã‚’ä½œã£ã¦ã€ãã“ã§æ›¸ãæ›ãˆã¦ãŠã„ã¦ã‚‚å¯ã€‚ã‚ã¨ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã‚ã‚‹ã¨ã“ã‚ã‚’ã‚¢ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹ã¨ã€ã€Œä½œæ¥­å†…å®¹ã€ã®è¡Œã‚’å¢—ã‚„ã›ã¾ã™ã€‚ãŠæ°—ã«å¬ã—ã¾ã—ãŸã‚‰ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ”ãƒ¼ã‚’ä½œã£ã¦é©å½“ã«æ›¸ãæ›ãˆã¦ãŠä½¿ã„ãã ã•ã„ã€‚
</p>

<p>ãªãŠã€è©³ã—ã„ãƒ­ã‚°ã¯console.logã«æ›¸ãå‡ºã—ã¦ã‚ã‚Šã¾ã™ã€‚</p>

<nav>
[<a href="../index.html">ãƒ›ãƒ¼ãƒ </a>]
</nav>
</body>
</html>
